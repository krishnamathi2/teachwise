(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{8784:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-payments",function(){return t(6443)}])},6443:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var n=t(7568),i=t(7582),o=t(5893),a=t(7294);function d(){var e=(0,a.useState)(""),r=e[0],t=e[1],d=(0,a.useState)(""),s=d[0],c=d[1],l=(0,a.useState)(""),u=l[0],m=l[1],f=(0,a.useState)(!1),p=f[0],h=f[1],b=(0,a.useState)(""),x=b[0],g=b[1],y=function(){var e=(0,n.Z)((function(e){var n,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(e.preventDefault(),!r||!s||!u)return g("All fields are required"),[2];h(!0),g(""),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,fetch("/api/upi-payment-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim(),amount:parseInt(s),transactionId:u.trim(),planType:"manual"})})];case 2:return[4,i.sent().json()];case 3:return(n=i.sent()).success?(g("\u2705 Payment verified! Added ".concat(n.creditsAdded," credits to ").concat(n.email,". Total credits: ").concat(n.totalCredits)),t(""),c(""),m("")):g("\u274c Error: ".concat(n.error)),[3,6];case 4:return o=i.sent(),g("\u274c Error: ".concat(o.message)),[3,6];case 5:return h(!1),[7];case 6:return[2]}}))}));return function(r){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{style:{maxWidth:"600px",margin:"2rem auto",padding:"2rem",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h1",{style:{textAlign:"center",marginBottom:"2rem",color:"#1f2937"},children:"Manual Payment Verification"}),(0,o.jsxs)("form",{onSubmit:y,children:[(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},children:"User Email:"}),(0,o.jsx)("input",{type:"email",value:r,onChange:function(e){return t(e.target.value)},placeholder:"user@example.com",style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},children:"Amount (\u20b9):"}),(0,o.jsx)("input",{type:"number",value:s,onChange:function(e){return c(e.target.value)},placeholder:"100",min:"100",style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},children:"Transaction ID:"}),(0,o.jsx)("input",{type:"text",value:u,onChange:function(e){return m(e.target.value)},placeholder:"Transaction ID from UPI payment",style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,o.jsx)("button",{type:"submit",disabled:p,style:{width:"100%",background:p?"#9ca3af":"#10b981",color:"white",border:"none",padding:"1rem",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"700",cursor:p?"not-allowed":"pointer"},children:p?"Processing...":"Verify Payment & Add Credits"})]}),x&&(0,o.jsx)("div",{style:{marginTop:"1.5rem",padding:"1rem",borderRadius:"8px",background:x.includes("\u2705")?"#f0f9ff":"#fef2f2",border:"2px solid ".concat(x.includes("\u2705")?"#3b82f6":"#ef4444"),color:x.includes("\u2705")?"#1e40af":"#dc2626",fontWeight:"600"},children:x}),(0,o.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#374151"},children:"How to use:"}),(0,o.jsxs)("ol",{style:{margin:0,paddingLeft:"1.5rem",color:"#6b7280"},children:[(0,o.jsx)("li",{children:"Receive payment confirmation from user"}),(0,o.jsx)("li",{children:"Verify the UPI transaction in the payment app"}),(0,o.jsx)("li",{children:"Enter user email, amount, and transaction ID above"}),(0,o.jsx)("li",{children:'Click "Verify Payment" to add credits to user account'})]})]})]})}},7568:function(e,r,t){"use strict";function n(e,r,t,n,i,o,a){try{var d=e[o](a),s=d.value}catch(c){return void t(c)}d.done?r(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var r=this,t=arguments;return new Promise((function(i,o){var a=e.apply(r,t);function d(e){n(a,i,o,d,s,"next",e)}function s(e){n(a,i,o,d,s,"throw",e)}d(void 0)}))}}t.d(r,{Z:function(){return i}})}},function(e){e.O(0,[774,888,179],(function(){return r=8784,e(e.s=r);var r}));var r=e.O();_N_E=r}]);